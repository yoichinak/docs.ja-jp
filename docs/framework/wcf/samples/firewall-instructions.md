---
title: ファイアウォール手順
ms.date: 03/30/2017
ms.assetid: a7dc429f-65ac-4faf-974a-77d5fb977fe1
ms.openlocfilehash: f1b576b4e413fa3bae70ef1eb8f8ed768e28e309
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "62051937"
---
# <a name="firewall-instructions"></a>ファイアウォール手順
Windows Communication Foundation (WCF) のサンプルが機能できるようにいくつかのファイアウォールの プログラムとポートを有効にする必要があります。 サンプルの多くは、通信する際に 8000 ～ 8003 の範囲のポートと 9000 のポートを使用します。 既定ではファイアウォールが有効なので、こうしたポートにはアクセスできません。 サンプル用にファイアウォールを有効にするには、要件とセキュリティ環境に応じて次のいずれかの手順を完了する必要があります。  
  
- オプション 1:実行中のサンプルを対話形式で有効にします。 ファイアウォールの構成をあらかじめ変更することなく、サンプルのビルドおよび実行の開始に進みます。 サンプルを実行すると、ときに、 **Windows セキュリティの警告** ダイアログ ボックスが表示されます。 対象のプログラムを、ブロック解除の一覧に対話形式で追加できます。 この手順では、この後サンプルを再起動する必要があります。  
  
- オプション 2:サンプル プログラムを事前に有効にします。 開始、**コントロール パネルの Windows ファイアウォール**アプレットとサンプル プログラムを実行する計画の有効化します。 実行可能ファイルが存在するように、プログラムを最初にビルドする必要があります。 手順の詳細については、後述を参照してください。  
  
- オプション 3:ポートの範囲を事前に有効にします。 開始、 **Windows ファイアウォール****コントロール パネルの **アプレットと有効にするポート 80、443、8000 ~ 8003、9000、サンプルで使用されます。 手順の詳細については、後述を参照してください。 このオプションは他の手順よりも安全性が低くなります。サンプルだけでなく、任意のプログラムでこれらのポートを使用できるようになるからです。  
  
 どの手順を使用するか判断に迷う場合は、最初のオプションを選択してください。 他のベンダのファイアウォールを実行している場合も、同様の変更が必要になる場合があります。  
  
> [!IMPORTANT]
>  ファイアウォールの構成を変更すると、セキュリティに影響します。 変更内容は記録し、サンプルの使用が終わったらそれらの変更点を削除することをお勧めします。  
  
### <a name="to-enable-samples-programs-in-advance"></a>サンプル プログラムをあらかじめ有効にしておくには  
  
1. このサンプルをビルドします。  
  
2. をクリックして**開始**、 をクリックして**実行**、および種類`firewall.cpl`します。 開き、**コントロール パネルの Windows ファイアウォール**アプレットです。  
  
    > [!NOTE]
    >  Windows ファイアウォールを介して通信する機能が必要なサンプルを実行するには、ファイアウォール設定を変更するための権限が必要です。 一部のファイウォール設定を変更できず、コンピューターがドメインに接続される場合は、システム管理者がグループ ポリシーを使用してファイアウォール設定を管理している可能性があります。  
  
3. Windows ファイアウォールを介したプログラムを許可するには、次のいずれかの手順を実行します。  
  
    - Windows 7 または Windows Server 2008 r2 では、をクリックして**プログラムまたは Windows ファイアウォール経由の機能を許可**します。 をクリックして**設定を変更する**、許可**別のプログラムしています**.  
  
    - [[!INCLUDE[wv](../../../../includes/wv-md.md)]または[!INCLUDE[lserver](../../../../includes/lserver-md.md)]、] をクリックして**Windows ファイアウォールによるプログラムの許可**します。  
  
4. **例外**] タブで [**プログラムの追加**します。  
  
5. をクリックして、**参照**ボタンをクリックしを実行するサンプルの実行可能ファイルを選択します。  
  
6. 実行する予定のすべてのサンプルの実行可能ファイルを追加するまで、手順 4. と 5. を繰り返します。  
  
7. クリックして**OK**ファイアウォール アプレットを閉じます。  
  
### <a name="to-enable-a-port-range-in-advance"></a>ポート範囲をあらかじめ有効にしておくには  
  
1. をクリックして**開始**、 をクリックして**実行**、および種類`firewall.cpl`します。 開き、**コントロール パネルの Windows ファイアウォール**アプレットです。  
  
2. Windows 7 または Windows Server 2008 R2 の場合は、次の手順を実行します。  
  
    1. クリックして**詳細設定**で Windows ファイアウォール ウィンドウの左の列。  
  
    2. クリックして**受信の規則**左の列にします。  
  
    3. クリックして**新しいルール**右側の列にします。  
  
    4. 選択**ポート** をクリック**次**します。  
  
    5. 選択**TCP**入力`8000, 8001, 8002, 8003, 9000, 80, 443`で、**特定のローカル ポート**フィールド。  
  
    6. **[次へ]** をクリックします。  
  
    7. 選択**接続を許可する**、 をクリック**次**します。  
  
    8. 選択**ドメイン**と**プライベート**、 をクリック**次**します。  
  
    9. この規則の名前`WCF-WF 4.0 Samples`、 をクリック**完了**します。  
  
    10. クリックして**送信の規則**手順 c ~ h を繰り返します。  
  
3. [!INCLUDE[wv](../../../../includes/wv-md.md)] または [!INCLUDE[lserver](../../../../includes/lserver-md.md)] の場合は、次の手順を実行します。  
  
    1. クリックして**Windows ファイアウォールによるプログラムの許可**します。  
  
    2. **例外**] タブで [**ポートの追加**します。  
  
    3. 名前を入力し、ポート番号 8000 を入力を選択、 **TCP**オプション。  
  
    4. をクリックして、**スコープの変更**ボタンを選択、**マイ ネットワーク**(サブネット) のみのオプションをクリックします**OK**します。  
  
    5. 手順 b ～ d を繰り返して、ポート 8001、8002、8003、9000、80、および 443 を設定します。  
  
4. クリックして**OK**ファイアウォール アプレットを閉じます。  
  
> [!NOTE]
>  サンプルの実行が終わったら、ファイアウォールのすべての例外を削除します。 これを行うには、開く、**コントロール パネルの Windows ファイアウォール**アプレットのすべてのプログラムを削除するか、前の手順で追加されたエントリのポートします。
